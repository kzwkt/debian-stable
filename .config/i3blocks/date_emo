#!/bin/bash
case $BLOCK_BUTTON in
	6) foot -e "$EDITOR" "$0" ;;
esac


# Converts a number to emoji digits
to_digit_emoji() {
  local num=$1
  local emoji=""
  digits=(0Ô∏è‚É£ 1Ô∏è‚É£ 2Ô∏è‚É£ 3Ô∏è‚É£ 4Ô∏è‚É£ 5Ô∏è‚É£ 6Ô∏è‚É£ 7Ô∏è‚É£ 8Ô∏è‚É£ 9Ô∏è‚É£)
  #digits=(0Ô∏è 1Ô∏è 2Ô∏è 3Ô∏è 4Ô∏è 5Ô∏è 6Ô∏è 7Ô∏è 8Ô∏è 9Ô∏è)
  for (( i=0; i<${#num}; i++ )); do
    digit="${num:$i:1}"
    emoji+="${digits[$digit]}"
  done
  echo "$emoji"
}

# Converts letters (A‚ÄìZ) to regional indicator emojis
to_letter_emoji() {
  local input=$1
  local emoji=""
  local sep=$'\u200A'  # Hair space (thin visible space)
  for (( i=0; i<${#input}; i++ )); do
    char="${input:$i:1}"
    case "$char" in
      A|a) emoji+="üá¶${sep}" ;;
      B|b) emoji+="üáß${sep}" ;;
      C|c) emoji+="üá®${sep}" ;;
      D|d) emoji+="üá©${sep}" ;;
      E|e) emoji+="üá™${sep}" ;;
      F|f) emoji+="üá´${sep}" ;;
      G|g) emoji+="üá¨${sep}" ;;
      H|h) emoji+="üá≠${sep}" ;;
      I|i) emoji+="üáÆ${sep}" ;;
      J|j) emoji+="üáØ${sep}" ;;
      K|k) emoji+="üá∞${sep}" ;;
      L|l) emoji+="üá±${sep}" ;;
      M|m) emoji+="üá≤${sep}" ;;
      N|n) emoji+="üá≥${sep}" ;;
      O|o) emoji+="üá¥${sep}" ;;
      P|p) emoji+="üáµ${sep}" ;;
      Q|q) emoji+="üá∂${sep}" ;;
      R|r) emoji+="üá∑${sep}" ;;
      S|s) emoji+="üá∏${sep}" ;;
      T|t) emoji+="üáπ${sep}" ;;
      U|u) emoji+="üá∫${sep}" ;;
      V|v) emoji+="üáª${sep}" ;;
      W|w) emoji+="üáº${sep}" ;;
      X|x) emoji+="üáΩ${sep}" ;;
      Y|y) emoji+="üáæ${sep}" ;;
      Z|z) emoji+="üáø${sep}" ;;
      *) emoji+="$char" ;;
    esac
  done
  # Remove trailing separator
  emoji="${emoji%$sep}"
  echo "$emoji"
}


# Get system date parts
month_abbr=$(date "+%b")    # Jan, Feb, etc.
day_abbr=$(date "+%a")      # Sun, Mon, etc.
day_num=$(date "+%d")       # 04
year=$(date "+%y")          # 25
hour=$(date "+%I")          # 12-hour format
minute=$(date "+%M")        # 00‚Äì59
ampm=$(date "+%p")          # AM or PM

# AM/PM emoji-like labels
if [[ "$ampm" == "AM" ]]; then
  ampm_emoji="üÖ∞Ô∏èüá≤"
else
  ampm_emoji="üáµ‚Ääüá≤"
fi

# Convert all to emoji formats
emoji_day_num=$(to_digit_emoji "$day_num")
emoji_hour=$(to_digit_emoji "$hour")
emoji_minute=$(to_digit_emoji "$minute")
emoji_month=$(to_letter_emoji "$month_abbr")
emoji_day=$(to_letter_emoji "$day_abbr")

# Output format: YY [MONTH] DD ([DAY]) HH:MMAM/PM
echo "$emoji_month $emoji_day_num ($emoji_day) $emoji_hour:$emoji_minute$ampm_emoji"
