#!/bin/sh

if [ -z "$1" ]; then
        echo "error: no argument given"
exit 1
fi

pkexec --keep-cwd env XDG_RUNTIME_DIR="$XDG_RUNTIME_DIR" \
         QT_QPA_PLATFORM="${QT_QPA_PLATFORM:-wayland}" \
         SESSION_MANAGER="$SESSION_MANAGER" \
         XDG_CURRENT_DESKTOP="$XDG_CURRENT_DESKTOP" \
         XDG_SESSION_PATH="$XDG_SESSION_PATH" \
         XDG_CONFIG_DIRS="$XDG_CONFIG_DIRS" \
         KDE_SESSION_UID="$KDE_SESSION_UID" \
         KDE_SESSION_VERSION="$KDE_SESSION_VERSION" \
         DISPLAY="$DISPLAY" \
         WAYLAND_DISPLAY="$WAYLAND_DISPLAY" \
         XAUTHORITY="$XAUTHORITY" \
         XDG_ACTIVATION_TOKEN="$XDG_ACTIVATION_TOKEN" \
         ICEAUTHORITY="$ICEAUTHORITY" \
         KDE_APPLICATIONS_AS_SCOPE="$KDE_APPLICATIONS_AS_SCOPE" \
         QT_WAYLAND_RECONNECT="$QT_WAYLAND_RECONNECT" \
         XDG_MENU_PREFIX="$XDG_MENU_PREFIX" \
         XDG_SESSION_CLASS="$XDG_SESSION_CLASS" \
         XDG_SESSION_DESKTOP="$XDG_SESSION_DESKTOP" \
         XDG_SESSION_ID="$XDG_SESSION_ID" \
         XDG_SESSION_TYPE="$XDG_SESSION_TYPE" \
         $1 
